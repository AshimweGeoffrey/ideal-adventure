{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'/api';class ApiService{constructor(){this.client=axios.create({baseURL:API_BASE_URL,timeout:10000,headers:{'Content-Type':'application/json'}});// Request interceptor\nthis.client.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});// Response interceptor\nthis.client.interceptors.response.use(response=>{return response.data;},error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){// Token expired or invalid\nlocalStorage.removeItem('token');window.location.href='/login';}return Promise.reject(error);});}setAuthToken(token){if(token){this.client.defaults.headers.common['Authorization']=\"Bearer \".concat(token);}else{delete this.client.defaults.headers.common['Authorization'];}}setApiKey(apiKey){if(apiKey){this.client.defaults.headers.common['X-API-Key']=apiKey;}else{delete this.client.defaults.headers.common['X-API-Key'];}}clearAuthToken(){delete this.client.defaults.headers.common['Authorization'];delete this.client.defaults.headers.common['X-API-Key'];}// Generic HTTP methods\nasync get(url){let config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.client.get(url,config);}async post(url){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.client.post(url,data,config);}async put(url){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.client.put(url,data,config);}async patch(url){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.client.patch(url,data,config);}async delete(url){let config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.client.delete(url,config);}// Portfolio specific methods\nasync getPortfolios(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const queryString=new URLSearchParams(params).toString();return this.get(\"/portfolio?\".concat(queryString));}async getPortfolio(id){return this.get(\"/portfolio/\".concat(id));}async createPortfolio(data){return this.post('/portfolio',data);}async updatePortfolio(id,data){return this.put(\"/portfolio/\".concat(id),data);}async deletePortfolio(id){return this.delete(\"/portfolio/\".concat(id));}async getPublicPortfolios(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const queryString=new URLSearchParams(params).toString();return this.get(\"/portfolio/public/all?\".concat(queryString));}// Health check\nasync healthCheck(){return this.get('/health');}}export const apiService=new ApiService();","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","constructor","client","create","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","error","Promise","reject","response","data","_error$response","status","removeItem","window","location","href","setAuthToken","defaults","common","setApiKey","apiKey","clearAuthToken","get","url","arguments","length","undefined","post","put","patch","delete","getPortfolios","params","queryString","URLSearchParams","toString","getPortfolio","id","createPortfolio","updatePortfolio","deletePortfolio","getPublicPortfolios","healthCheck","apiService"],"sources":["/home/micro/ideal-adventure/portfolio-26466/frontend/src/services/apiService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || '/api';\n\nclass ApiService {\n  constructor() {\n    this.client = axios.create({\n      baseURL: API_BASE_URL,\n      timeout: 10000,\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    });\n\n    // Request interceptor\n    this.client.interceptors.request.use(\n      (config) => {\n        const token = localStorage.getItem('token');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      }\n    );\n\n    // Response interceptor\n    this.client.interceptors.response.use(\n      (response) => {\n        return response.data;\n      },\n      (error) => {\n        if (error.response?.status === 401) {\n          // Token expired or invalid\n          localStorage.removeItem('token');\n          window.location.href = '/login';\n        }\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  setAuthToken(token) {\n    if (token) {\n      this.client.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    } else {\n      delete this.client.defaults.headers.common['Authorization'];\n    }\n  }\n\n  setApiKey(apiKey) {\n    if (apiKey) {\n      this.client.defaults.headers.common['X-API-Key'] = apiKey;\n    } else {\n      delete this.client.defaults.headers.common['X-API-Key'];\n    }\n  }\n\n  clearAuthToken() {\n    delete this.client.defaults.headers.common['Authorization'];\n    delete this.client.defaults.headers.common['X-API-Key'];\n  }\n\n  // Generic HTTP methods\n  async get(url, config = {}) {\n    return this.client.get(url, config);\n  }\n\n  async post(url, data = {}, config = {}) {\n    return this.client.post(url, data, config);\n  }\n\n  async put(url, data = {}, config = {}) {\n    return this.client.put(url, data, config);\n  }\n\n  async patch(url, data = {}, config = {}) {\n    return this.client.patch(url, data, config);\n  }\n\n  async delete(url, config = {}) {\n    return this.client.delete(url, config);\n  }\n\n  // Portfolio specific methods\n  async getPortfolios(params = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    return this.get(`/portfolio?${queryString}`);\n  }\n\n  async getPortfolio(id) {\n    return this.get(`/portfolio/${id}`);\n  }\n\n  async createPortfolio(data) {\n    return this.post('/portfolio', data);\n  }\n\n  async updatePortfolio(id, data) {\n    return this.put(`/portfolio/${id}`, data);\n  }\n\n  async deletePortfolio(id) {\n    return this.delete(`/portfolio/${id}`);\n  }\n\n  async getPublicPortfolios(params = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    return this.get(`/portfolio/public/all?${queryString}`);\n  }\n\n  // Health check\n  async healthCheck() {\n    return this.get('/health');\n  }\n}\n\nexport const apiService = new ApiService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}